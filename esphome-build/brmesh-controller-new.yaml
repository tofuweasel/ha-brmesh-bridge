esphome:
  name: brmesh-controller-2
  friendly_name: BRMesh Controller 2

esp32:
  board: esp32dev
  framework:
    type: arduino

# Enable logging
logger:
  level: INFO

# Enable Home Assistant API
api:
  encryption:
    key: "jtP3TVx66fxywVOSOambyyM+EWilR+AkPwaR5Orogog="

ota:
  - platform: esphome
    password: "brmesh2024"

wifi:
  ssid: "IoT"
  password: "Zaq12wsx"
  
  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "BRMesh-Controller-2"
    password: "brmesh123"

captive_portal:

# Web server for direct access
web_server:
  port: 80

# BLE server for BRMesh
esp32_ble_server:

# External component for BRMesh/Fastcon protocol
external_components:
  - source: github://scross01/esphome-fastcon@dev
    components: [fastcon]

# BRMesh configuration
fastcon:
  mesh_key: "30323336"  # Default mesh key (change if different)

# Light entities - add your BRMesh lights here
light:
  - platform: fastcon
    id: brmesh_light_10
    name: "BRMesh Light 10"
    light_id: 10
    color_interlock: true
